

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>PyFoam.ThirdParty.pyratemp module &mdash; PyFoam 0.6.11-development documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="PyFoam 0.6.11-development documentation" href="../index.html"/>
        <link rel="up" title="PyFoam.ThirdParty package" href="PyFoam.ThirdParty.html"/>
        <link rel="next" title="PyFoam.ThirdParty.six module" href="PyFoam.ThirdParty.six.html"/>
        <link rel="prev" title="PyFoam.ThirdParty.IPy module" href="PyFoam.ThirdParty.IPy.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> PyFoam
          

          
          </a>

          
            
            
              <div class="version">
                0.6.11
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">API documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="PyFoam.html">PyFoam package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="PyFoam.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="PyFoam.Applications.html">PyFoam.Applications package</a></li>
<li class="toctree-l4"><a class="reference internal" href="PyFoam.Basics.html">PyFoam.Basics package</a></li>
<li class="toctree-l4"><a class="reference internal" href="PyFoam.Execution.html">PyFoam.Execution package</a></li>
<li class="toctree-l4"><a class="reference internal" href="PyFoam.IPythonHelpers.html">PyFoam.IPythonHelpers package</a></li>
<li class="toctree-l4"><a class="reference internal" href="PyFoam.Infrastructure.html">PyFoam.Infrastructure package</a></li>
<li class="toctree-l4"><a class="reference internal" href="PyFoam.LogAnalysis.html">PyFoam.LogAnalysis package</a></li>
<li class="toctree-l4"><a class="reference internal" href="PyFoam.Paraview.html">PyFoam.Paraview package</a></li>
<li class="toctree-l4"><a class="reference internal" href="PyFoam.RunDictionary.html">PyFoam.RunDictionary package</a></li>
<li class="toctree-l4"><a class="reference internal" href="PyFoam.Site.html">PyFoam.Site package</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="PyFoam.ThirdParty.html">PyFoam.ThirdParty package</a></li>
<li class="toctree-l4"><a class="reference internal" href="PyFoam.Wrappers.html">PyFoam.Wrappers package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="PyFoam.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="PyFoam.html#module-PyFoam">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">PyFoam</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="modules.html">PyFoam</a> &raquo;</li>
        
          <li><a href="PyFoam.html">PyFoam package</a> &raquo;</li>
        
          <li><a href="PyFoam.ThirdParty.html">PyFoam.ThirdParty package</a> &raquo;</li>
        
      <li>PyFoam.ThirdParty.pyratemp module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/PyFoam.ThirdParty.pyratemp.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-PyFoam.ThirdParty.pyratemp">
<span id="pyfoam-thirdparty-pyratemp-module"></span><h1>PyFoam.ThirdParty.pyratemp module<a class="headerlink" href="#module-PyFoam.ThirdParty.pyratemp" title="Permalink to this headline">¶</a></h1>
<p>Small, simple and powerful template-engine for python.</p>
<p>A template-engine for python, which is very simple, easy to use, small,
fast, powerful, modular, extensible, well documented and pythonic.</p>
<p>See documentation for a list of features, template-syntax etc.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Version:</th><td class="field-body"><p class="first">0.2.0</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Usage:</th><td class="field-body"><p class="first">see class <code class="docutils literal"><span class="pre">Template</span></code> and examples below.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><dl class="first docutils">
<dt>quickstart::</dt>
<dd><div class="first last highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Template</span><span class="p">(</span><span class="s2">&quot;hello @!name!@&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">t</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;marvin&quot;</span><span class="p">)</span>
<span class="go">hello marvin</span>
</pre></div>
</div>
</dd>
<dt>generic usage::</dt>
<dd><div class="first last highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Template</span><span class="p">(</span><span class="s2">&quot;output is in Unicode äöü€&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span>                                           
<span class="go">&lt;...Template instance at 0x...&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">()</span>
<span class="go">u&#39;output is in Unicode \xe4\xf6\xfc\u20ac&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">unicode</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="go">u&#39;output is in Unicode \xe4\xf6\xfc\u20ac&#39;</span>
</pre></div>
</div>
</dd>
<dt>with data::</dt>
<dd><div class="first highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Template</span><span class="p">(</span><span class="s2">&quot;hello @!name!@&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;world&quot;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">()</span>
<span class="go">u&#39;hello world&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;worlds&quot;</span><span class="p">)</span>
<span class="go">u&#39;hello worlds&#39;</span>
</pre></div>
</div>
<p class="last"># &gt;&gt;&gt; t(note=”data must be Unicode or ASCII”, name=u”ä”)
# u’hello xe4’</p>
</dd>
<dt>escaping::</dt>
<dd><div class="first last highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Template</span><span class="p">(</span><span class="s2">&quot;hello escaped: @!name!@, unescaped: $!name!$&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;&#39;&#39;&lt;&gt;&amp;&#39;&quot;&#39;&#39;&#39;</span><span class="p">)</span>
<span class="go">u&#39;hello escaped: &amp;lt;&amp;gt;&amp;amp;&amp;#39;&amp;quot;, unescaped: &lt;&gt;&amp;\&#39;&quot;&#39;</span>
</pre></div>
</div>
</dd>
<dt>result-encoding::</dt>
<dd><p class="first"># encode the unicode-object to your encoding with encode()
&gt;&gt;&gt; t = Template(“hello äöü€”)
&gt;&gt;&gt; result = t()
&gt;&gt;&gt; result
u’hello xe4xf6xfcu20ac’
&gt;&gt;&gt; result.encode(“utf-8”)
‘hello xc3xa4xc3xb6xc3xbcxe2x82xac’
&gt;&gt;&gt; result.encode(“ascii”)
Traceback (most recent call last):</p>
<blockquote>
<div><p>…</p>
</div></blockquote>
<p class="last">UnicodeEncodeError: ‘ascii’ codec can’t encode characters in position 6-9: ordinal not in range(128)
&gt;&gt;&gt; result.encode(“ascii”, ‘xmlcharrefreplace’)
‘hello &amp;#228;&amp;#246;&amp;#252;&amp;#8364;’</p>
</dd>
<dt>python-expressions::</dt>
<dd><div class="first last highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Template</span><span class="p">(</span><span class="s1">&#39;formatted: @! &quot;</span><span class="si">%8.5f</span><span class="s1">&quot; % value !@&#39;</span><span class="p">)(</span><span class="n">value</span><span class="o">=</span><span class="mf">3.141592653</span><span class="p">)</span>
<span class="go">u&#39;formatted:  3.14159&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Template</span><span class="p">(</span><span class="s2">&quot;hello --@!name.upper().center(20)!@--&quot;</span><span class="p">)(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;world&quot;</span><span class="p">)</span>
<span class="go">u&#39;hello --       WORLD        --&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Template</span><span class="p">(</span><span class="s2">&quot;calculate @!var*5+7!@&quot;</span><span class="p">)(</span><span class="n">var</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span>
<span class="go">u&#39;calculate 42&#39;</span>
</pre></div>
</div>
</dd>
<dt>blocks (if/for/macros/…)::</dt>
<dd><div class="first highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Template</span><span class="p">(</span><span class="s2">&quot;&lt;!--(if foo == 1)--&gt;bar&lt;!--(elif foo == 2)--&gt;baz&lt;!--(else)--&gt;unknown(@!foo!@)&lt;!--(end)--&gt;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="n">foo</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">u&#39;baz&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="n">foo</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="go">u&#39;unknown(5)&#39;</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Template</span><span class="p">(</span><span class="s2">&quot;&lt;!--(for i in mylist)--&gt;@!i!@ &lt;!--(else)--&gt;(empty)&lt;!--(end)--&gt;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="n">mylist</span><span class="o">=</span><span class="p">[])</span>
<span class="go">u&#39;(empty)&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="n">mylist</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="go">u&#39;1 2 3 &#39;</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Template</span><span class="p">(</span><span class="s2">&quot;&lt;!--(for i,elem in enumerate(mylist))--&gt; - @!i!@: @!elem!@&lt;!--(end)--&gt;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="n">mylist</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="s2">&quot;b&quot;</span><span class="p">,</span><span class="s2">&quot;c&quot;</span><span class="p">])</span>
<span class="go">u&#39; - 0: a - 1: b - 2: c&#39;</span>
</pre></div>
</div>
<div class="last highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Template</span><span class="p">(</span><span class="s1">&#39;&lt;!--(macro greetings)--&gt;hello &lt;strong&gt;@!name!@&lt;/strong&gt;&lt;!--(end)--&gt;  @!greetings(name=user)!@&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="s2">&quot;monty&quot;</span><span class="p">)</span>
<span class="go">u&#39;  hello &lt;strong&gt;monty&lt;/strong&gt;&#39;</span>
</pre></div>
</div>
</dd>
<dt>exists::</dt>
<dd><div class="first last highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Template</span><span class="p">(</span><span class="s1">&#39;&lt;!--(if exists(&quot;foo&quot;))--&gt;YES&lt;!--(else)--&gt;NO&lt;!--(end)--&gt;&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">()</span>
<span class="go">u&#39;NO&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="n">foo</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">u&#39;YES&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="n">foo</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>       <span class="c1"># note this difference to &#39;default()&#39;</span>
<span class="go">u&#39;YES&#39;</span>
</pre></div>
</div>
</dd>
<dt>default-values::</dt>
<dd><p class="first"># non-existing variables raise an error
&gt;&gt;&gt; Template(‘hi &#64;!optional!&#64;’)()
Traceback (most recent call last):</p>
<blockquote>
<div><p>…</p>
</div></blockquote>
<p>TemplateRenderError: Cannot eval expression ‘optional’. (NameError: name ‘optional’ is not defined)</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Template</span><span class="p">(</span><span class="s1">&#39;hi @!default(&quot;optional&quot;,&quot;anyone&quot;)!@&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">()</span>
<span class="go">u&#39;hi anyone&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="n">optional</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="go">u&#39;hi anyone&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="n">optional</span><span class="o">=</span><span class="s2">&quot;there&quot;</span><span class="p">)</span>
<span class="go">u&#39;hi there&#39;</span>
</pre></div>
</div>
<p># the 1st parameter can be any eval-expression
&gt;&gt;&gt; t = Template(‘&#64;!default(“5*var1+var2”,”missing variable”)!&#64;’)
&gt;&gt;&gt; t(var1=10)
u’missing variable’
&gt;&gt;&gt; t(var1=10, var2=2)
u’52’</p>
<p># also in blocks
&gt;&gt;&gt; t = Template(‘&lt;!–(if default(“opt1+opt2”,0) &gt; 0)–&gt;yes&lt;!–(else)–&gt;no&lt;!–(end)–&gt;’)
&gt;&gt;&gt; t()
u’no’
&gt;&gt;&gt; t(opt1=23, opt2=42)
u’yes’</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Template</span><span class="p">(</span><span class="s1">&#39;&lt;!--(for i in default(&quot;optional_list&quot;,[]))--&gt;@!i!@&lt;!--(end)--&gt;&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">()</span>
<span class="go">u&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="n">optional_list</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="go">u&#39;123&#39;</span>
</pre></div>
</div>
<p># but make sure to put the expression in quotation marks, otherwise:
&gt;&gt;&gt; Template(‘&#64;!default(optional,”fallback”)!&#64;’)()
Traceback (most recent call last):</p>
<blockquote>
<div><p>…</p>
</div></blockquote>
<p class="last">TemplateRenderError: Cannot eval expression ‘default(optional,”fallback”)’. (NameError: name ‘optional’ is not defined)</p>
</dd>
<dt>setvar::</dt>
<dd><div class="first highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Template</span><span class="p">(</span><span class="s1">&#39;$!setvar(&quot;i&quot;, &quot;i+1&quot;)!$@!i!@&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
<span class="go">u&#39;7&#39;</span>
</pre></div>
</div>
<div class="last highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Template</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;&lt;!--(if isinstance(s, (list,tuple)))--&gt;$!setvar(&quot;s&quot;, &#39;&quot;</span><span class="se">\\\\</span><span class="s1">n&quot;.join(s)&#39;)!$&lt;!--(end)--&gt;@!s!@&#39;&#39;&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="nb">isinstance</span><span class="o">=</span><span class="nb">isinstance</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="s2">&quot;123&quot;</span><span class="p">)</span>
<span class="go">u&#39;123&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">(</span><span class="nb">isinstance</span><span class="o">=</span><span class="nb">isinstance</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;123&quot;</span><span class="p">,</span> <span class="s2">&quot;456&quot;</span><span class="p">])</span>
<span class="go">u&#39;123\n456&#39;</span>
</pre></div>
</div>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Author:</th><td class="field-body"><p class="first">Roland Koebler (rk at simple-is-better dot org)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Copyright:</th><td class="field-body"><p class="first">Roland Koebler</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">License:</th><td class="field-body"><p class="first last">MIT/X11-like, see __license__</p>
</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="PyFoam.ThirdParty.pyratemp.EvalPseudoSandbox">
<em class="property">class </em><code class="descclassname">PyFoam.ThirdParty.pyratemp.</code><code class="descname">EvalPseudoSandbox</code><a class="reference internal" href="../_modules/PyFoam/ThirdParty/pyratemp.html#EvalPseudoSandbox"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#PyFoam.ThirdParty.pyratemp.EvalPseudoSandbox" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>An eval-pseudo-sandbox.</p>
<p>The pseudo-sandbox restricts the available functions/objects, so the
code can only access:</p>
<ul class="simple">
<li>some of the builtin python-functions, which are considered “safe”
(see safe_builtins)</li>
<li>some additional functions (exists(), default(), setvar())</li>
<li>the passed objects incl. their methods.</li>
</ul>
<p>Additionally, names beginning with “_” are forbidden.
This is to prevent things like ‘0 .__class__’, with which you could
easily break out of a “sandbox”.</p>
<p>Be careful to only pass “safe” objects/functions to the template,
because any unsafe function/method could break the sandbox!
For maximum security, restrict the access to as few objects/functions
as possible!</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Warning:</th><td class="field-body"><p class="first">Note that this is no real sandbox! (And although I don’t know any
way to break out of the sandbox without passing-in an unsafe object,
I cannot guarantee that there is no such way. So use with care.)</p>
<p class="last">Take care if you want to use it for untrusted code!!</p>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="PyFoam.ThirdParty.pyratemp.EvalPseudoSandbox.compile">
<code class="descname">compile</code><span class="sig-paren">(</span><em>expr</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/PyFoam/ThirdParty/pyratemp.html#EvalPseudoSandbox.compile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#PyFoam.ThirdParty.pyratemp.EvalPseudoSandbox.compile" title="Permalink to this definition">¶</a></dt>
<dd><p>Compile a python-eval-expression.</p>
<ul class="simple">
<li>Use a compile-cache.</li>
<li>Raise a <cite>NameError</cite> if <cite>expr</cite> contains a name beginning with <code class="docutils literal"><span class="pre">_</span></code>.</li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the compiled <cite>expr</cite></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Exceptions:</th><td class="field-body"><ul class="first last simple">
<li><cite>SyntaxError</cite>: for compile-errors</li>
<li><cite>NameError</cite>: if expr contains a name beginning with <code class="docutils literal"><span class="pre">_</span></code></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="PyFoam.ThirdParty.pyratemp.EvalPseudoSandbox.eval">
<code class="descname">eval</code><span class="sig-paren">(</span><em>expr</em>, <em>locals</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/PyFoam/ThirdParty/pyratemp.html#EvalPseudoSandbox.eval"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#PyFoam.ThirdParty.pyratemp.EvalPseudoSandbox.eval" title="Permalink to this definition">¶</a></dt>
<dd><p>Eval a python-eval-expression.</p>
<p>Sets <code class="docutils literal"><span class="pre">self.locals_ptr</span></code> to <code class="docutils literal"><span class="pre">locales</span></code> and compiles the code
before evaluating.</p>
</dd></dl>

<dl class="method">
<dt id="PyFoam.ThirdParty.pyratemp.EvalPseudoSandbox.f_default">
<code class="descname">f_default</code><span class="sig-paren">(</span><em>expr</em>, <em>default=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/PyFoam/ThirdParty/pyratemp.html#EvalPseudoSandbox.f_default"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#PyFoam.ThirdParty.pyratemp.EvalPseudoSandbox.f_default" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">default()</span></code> for the sandboxed code.</p>
<p>Try to evaluate an expression and return the result or a
fallback-/default-value; the <cite>default</cite>-value is used
if <cite>expr</cite> does not exist/is invalid/results in None.</p>
<p>This is very useful for optional data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameter:</th><td class="field-body"><ul class="first simple">
<li>expr: eval-expression</li>
<li>default: fallback-falue if eval(expr) fails or is None.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the eval-result or the “fallback”-value.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Note:</th><td class="field-body"><p class="first">the eval-expression has to be quoted! (like in eval)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Example:</th><td class="field-body"><p class="first last">see module-docstring</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="PyFoam.ThirdParty.pyratemp.EvalPseudoSandbox.f_exists">
<code class="descname">f_exists</code><span class="sig-paren">(</span><em>varname</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/PyFoam/ThirdParty/pyratemp.html#EvalPseudoSandbox.f_exists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#PyFoam.ThirdParty.pyratemp.EvalPseudoSandbox.f_exists" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">exists()</span></code> for the sandboxed code.</p>
<p>Test if the variable <cite>varname</cite> exists in the current locals-namespace.</p>
<p>This only works for single variable names. If you want to test
complicated expressions, use i.e. <cite>default</cite>.
(i.e. <cite>default(“expr”,False)</cite>)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Note:</th><td class="field-body">the variable-name has to be quoted! (like in eval)</td>
</tr>
<tr class="field-even field"><th class="field-name">Example:</th><td class="field-body">see module-docstring</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="PyFoam.ThirdParty.pyratemp.EvalPseudoSandbox.f_import">
<code class="descname">f_import</code><span class="sig-paren">(</span><em>name</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/PyFoam/ThirdParty/pyratemp.html#EvalPseudoSandbox.f_import"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#PyFoam.ThirdParty.pyratemp.EvalPseudoSandbox.f_import" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">import</span></code>/<code class="docutils literal"><span class="pre">__import__()</span></code> for the sandboxed code.</p>
<p>Since “import” is insecure, the PseudoSandbox does not allow to
import other modules. But since some functions need to import
other modules (e.g. “datetime.datetime.strftime” imports “time”),
this function replaces the builtin “import” and allows to use
modules which are already accessible by the sandboxed code.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Note:</th><td class="field-body"><ul class="first simple">
<li>This probably only works for rather simple imports.</li>
<li>For security, it may be better to avoid such (complex) modules
which import other modules. (e.g. use time.localtime and
time.strftime instead of datetime.datetime.strftime)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Example:</th><td class="field-body"><div class="first highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">datetime</span> <span class="k">import</span> <span class="n">datetime</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pyratemp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">pyratemp</span><span class="o">.</span><span class="n">Template</span><span class="p">(</span><span class="s1">&#39;@!mytime.strftime(&quot;%H:%M:%S&quot;)!@&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">t</span><span class="p">(</span><span class="n">mytime</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">())</span>
<span class="gt">Traceback (most recent call last):</span>
  <span class="c">...</span>
<span class="gr">ImportError</span>: <span class="n">import not allowed in pseudo-sandbox; try to import &#39;time&#39; yourself and pass it to the sandbox/template</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">time</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">t</span><span class="p">(</span><span class="n">mytime</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="s2">&quot;13:40:54&quot;</span><span class="p">,</span> <span class="s2">&quot;%H:%M:%S&quot;</span><span class="p">),</span> <span class="n">time</span><span class="o">=</span><span class="n">time</span><span class="p">)</span>
<span class="go">13:40:54</span>
</pre></div>
</div>
<p class="last"># &gt;&gt;&gt; print t(mytime=datetime.now(), time=time)
# 13:40:54</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="PyFoam.ThirdParty.pyratemp.EvalPseudoSandbox.f_setvar">
<code class="descname">f_setvar</code><span class="sig-paren">(</span><em>name</em>, <em>expr</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/PyFoam/ThirdParty/pyratemp.html#EvalPseudoSandbox.f_setvar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#PyFoam.ThirdParty.pyratemp.EvalPseudoSandbox.f_setvar" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">setvar()</span></code> for the sandboxed code.</p>
<p>Set a variable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body">see module-docstring</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="PyFoam.ThirdParty.pyratemp.EvalPseudoSandbox.register">
<code class="descname">register</code><span class="sig-paren">(</span><em>name</em>, <em>obj</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/PyFoam/ThirdParty/pyratemp.html#EvalPseudoSandbox.register"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#PyFoam.ThirdParty.pyratemp.EvalPseudoSandbox.register" title="Permalink to this definition">¶</a></dt>
<dd><p>Add an object to the “allowed eval-globals”.</p>
<p>Mainly useful to add user-defined functions to the pseudo-sandbox.</p>
</dd></dl>

<dl class="attribute">
<dt id="PyFoam.ThirdParty.pyratemp.EvalPseudoSandbox.safe_builtins">
<code class="descname">safe_builtins</code><em class="property"> = {'abs': &lt;built-in function abs&gt;, 'bool': &lt;class 'bool'&gt;, 'chr': &lt;built-in function chr&gt;, 'complex': &lt;class 'complex'&gt;, 'dict': &lt;class 'dict'&gt;, 'divmod': &lt;built-in function divmod&gt;, 'enumerate': &lt;class 'enumerate'&gt;, 'float': &lt;class 'float'&gt;, 'hash': &lt;built-in function hash&gt;, 'hex': &lt;built-in function hex&gt;, 'int': &lt;class 'int'&gt;, 'len': &lt;built-in function len&gt;, 'list': &lt;class 'list'&gt;, 'max': &lt;built-in function max&gt;, 'min': &lt;built-in function min&gt;, 'oct': &lt;built-in function oct&gt;, 'ord': &lt;built-in function ord&gt;, 'pow': &lt;built-in function pow&gt;, 'range': &lt;class 'range'&gt;, 'reversed': &lt;class 'reversed'&gt;, 'round': &lt;built-in function round&gt;, 'sorted': &lt;built-in function sorted&gt;, 'str': &lt;class 'str'&gt;, 'sum': &lt;built-in function sum&gt;, 'tuple': &lt;class 'tuple'&gt;, 'zip': &lt;class 'zip'&gt;}</em><a class="headerlink" href="#PyFoam.ThirdParty.pyratemp.EvalPseudoSandbox.safe_builtins" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="PyFoam.ThirdParty.pyratemp.EvalPseudoSandbox.safe_builtins_python2">
<code class="descname">safe_builtins_python2</code><em class="property"> = {'False': '__builtin__.False', 'None': '__builtin__.None', 'True': '__builtin__.True', 'cmp': '__builtin__.cmp', 'long': '__builtin__.long', 'unichr': '__builtin__.unichr', 'unicode': '__builtin__.unicode', 'xrange': '__builtin__.xrange'}</em><a class="headerlink" href="#PyFoam.ThirdParty.pyratemp.EvalPseudoSandbox.safe_builtins_python2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="PyFoam.ThirdParty.pyratemp.LoaderFile">
<em class="property">class </em><code class="descclassname">PyFoam.ThirdParty.pyratemp.</code><code class="descname">LoaderFile</code><span class="sig-paren">(</span><em>allowed_path=None</em>, <em>encoding='utf-8'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/PyFoam/ThirdParty/pyratemp.html#LoaderFile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#PyFoam.ThirdParty.pyratemp.LoaderFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Load template from a file.</p>
<p>When loading a template from a file, it’s possible to including other
templates (by using ‘include’ in the template). But for simplicity
and security, all included templates have to be in the same directory!
(see <code class="docutils literal"><span class="pre">allowed_path</span></code>)</p>
<dl class="method">
<dt id="PyFoam.ThirdParty.pyratemp.LoaderFile.load">
<code class="descname">load</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/PyFoam/ThirdParty/pyratemp.html#LoaderFile.load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#PyFoam.ThirdParty.pyratemp.LoaderFile.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a template from a file.</p>
<p>Check if filename is allowed and return its contens in unicode.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><cite>filename</cite>: filename of the template without path</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the contents of the template-file in unicode</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Exceptions:</th><td class="field-body"><ul class="first last simple">
<li><cite>ValueError</cite>: if <cite>filename</cite> contains a path</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="PyFoam.ThirdParty.pyratemp.LoaderString">
<em class="property">class </em><code class="descclassname">PyFoam.ThirdParty.pyratemp.</code><code class="descname">LoaderString</code><span class="sig-paren">(</span><em>encoding='utf-8'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/PyFoam/ThirdParty/pyratemp.html#LoaderString"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#PyFoam.ThirdParty.pyratemp.LoaderString" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Load template from a string/unicode.</p>
<p>Note that ‘include’ is not possible in such templates.</p>
<dl class="method">
<dt id="PyFoam.ThirdParty.pyratemp.LoaderString.load">
<code class="descname">load</code><span class="sig-paren">(</span><em>string</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/PyFoam/ThirdParty/pyratemp.html#LoaderString.load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#PyFoam.ThirdParty.pyratemp.LoaderString.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Return template-string as unicode.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="PyFoam.ThirdParty.pyratemp.Parser">
<em class="property">class </em><code class="descclassname">PyFoam.ThirdParty.pyratemp.</code><code class="descname">Parser</code><span class="sig-paren">(</span><em>loadfunc=None</em>, <em>testexpr=None</em>, <em>escape=1</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/PyFoam/ThirdParty/pyratemp.html#Parser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#PyFoam.ThirdParty.pyratemp.Parser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Parse a template into a parse-tree.</p>
<p>Includes a syntax-check, an optional expression-check and verbose
error-messages.</p>
<p>See documentation for a description of the parse-tree.</p>
<dl class="method">
<dt id="PyFoam.ThirdParty.pyratemp.Parser.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>template</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/PyFoam/ThirdParty/pyratemp.html#Parser.parse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#PyFoam.ThirdParty.pyratemp.Parser.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse a template.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><cite>template</cite>: template-unicode-string</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the resulting parse-tree</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Exceptions:</th><td class="field-body"><ul class="first last simple">
<li><cite>TemplateSyntaxError</cite>: for template-syntax-errors</li>
<li><cite>TemplateIncludeError</cite>: if template-inclusion failed</li>
<li><cite>TemplateException</cite></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="PyFoam.ThirdParty.pyratemp.Renderer">
<em class="property">class </em><code class="descclassname">PyFoam.ThirdParty.pyratemp.</code><code class="descname">Renderer</code><span class="sig-paren">(</span><em>evalfunc</em>, <em>escapefunc</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/PyFoam/ThirdParty/pyratemp.html#Renderer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#PyFoam.ThirdParty.pyratemp.Renderer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Render a template-parse-tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Uses:</th><td class="field-body"><cite>TemplateBase</cite> for macros</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="PyFoam.ThirdParty.pyratemp.Renderer.render">
<code class="descname">render</code><span class="sig-paren">(</span><em>parsetree</em>, <em>data</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/PyFoam/ThirdParty/pyratemp.html#Renderer.render"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#PyFoam.ThirdParty.pyratemp.Renderer.render" title="Permalink to this definition">¶</a></dt>
<dd><p>Render a parse-tree of a template.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><cite>parsetree</cite>: the parse-tree</li>
<li><cite>data</cite>:      the data to fill into the template (dictionary)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the rendered output-unicode-string</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Exceptions:</th><td class="field-body"><ul class="first last simple">
<li><cite>TemplateRenderError</cite></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="PyFoam.ThirdParty.pyratemp.Template">
<em class="property">class </em><code class="descclassname">PyFoam.ThirdParty.pyratemp.</code><code class="descname">Template</code><span class="sig-paren">(</span><em>string=None</em>, <em>filename=None</em>, <em>parsetree=None</em>, <em>encoding='utf-8'</em>, <em>data=None</em>, <em>escape=1</em>, <em>loader_class=&lt;class 'PyFoam.ThirdParty.pyratemp.LoaderFile'&gt;</em>, <em>parser_class=&lt;class 'PyFoam.ThirdParty.pyratemp.Parser'&gt;</em>, <em>renderer_class=&lt;class 'PyFoam.ThirdParty.pyratemp.Renderer'&gt;</em>, <em>eval_class=&lt;class 'PyFoam.ThirdParty.pyratemp.EvalPseudoSandbox'&gt;</em>, <em>escape_func=&lt;function escape&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/PyFoam/ThirdParty/pyratemp.html#Template"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#PyFoam.ThirdParty.pyratemp.Template" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#PyFoam.ThirdParty.pyratemp.TemplateBase" title="PyFoam.ThirdParty.pyratemp.TemplateBase"><code class="xref py py-class docutils literal"><span class="pre">PyFoam.ThirdParty.pyratemp.TemplateBase</span></code></a></p>
<p>Template-User-Interface.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Usage:</th><td class="field-body"><dl class="first docutils">
<dt>::</dt>
<dd><p class="first last">t = Template(…)  (&lt;- see __init__)
output = t(…)    (&lt;- see TemplateBase.__call__)</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Example:</th><td class="field-body"><p class="first last">see module-docstring</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="PyFoam.ThirdParty.pyratemp.TemplateBase">
<em class="property">class </em><code class="descclassname">PyFoam.ThirdParty.pyratemp.</code><code class="descname">TemplateBase</code><span class="sig-paren">(</span><em>parsetree</em>, <em>renderfunc</em>, <em>data=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/PyFoam/ThirdParty/pyratemp.html#TemplateBase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#PyFoam.ThirdParty.pyratemp.TemplateBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Basic template-class.</p>
<p>Used both for the template itself and for ‘macro’s (“subtemplates”) in
the template.</p>
</dd></dl>

<dl class="exception">
<dt id="PyFoam.ThirdParty.pyratemp.TemplateException">
<em class="property">exception </em><code class="descclassname">PyFoam.ThirdParty.pyratemp.</code><code class="descname">TemplateException</code><a class="reference internal" href="../_modules/PyFoam/ThirdParty/pyratemp.html#TemplateException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#PyFoam.ThirdParty.pyratemp.TemplateException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">Exception</span></code></p>
<p>Base class for template-exceptions.</p>
</dd></dl>

<dl class="exception">
<dt id="PyFoam.ThirdParty.pyratemp.TemplateIncludeError">
<em class="property">exception </em><code class="descclassname">PyFoam.ThirdParty.pyratemp.</code><code class="descname">TemplateIncludeError</code><span class="sig-paren">(</span><em>err</em>, <em>errpos</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/PyFoam/ThirdParty/pyratemp.html#TemplateIncludeError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#PyFoam.ThirdParty.pyratemp.TemplateIncludeError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#PyFoam.ThirdParty.pyratemp.TemplateParseError" title="PyFoam.ThirdParty.pyratemp.TemplateParseError"><code class="xref py py-class docutils literal"><span class="pre">PyFoam.ThirdParty.pyratemp.TemplateParseError</span></code></a></p>
<p>Template ‘include’ failed.</p>
</dd></dl>

<dl class="exception">
<dt id="PyFoam.ThirdParty.pyratemp.TemplateParseError">
<em class="property">exception </em><code class="descclassname">PyFoam.ThirdParty.pyratemp.</code><code class="descname">TemplateParseError</code><span class="sig-paren">(</span><em>err</em>, <em>errpos</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/PyFoam/ThirdParty/pyratemp.html#TemplateParseError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#PyFoam.ThirdParty.pyratemp.TemplateParseError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#PyFoam.ThirdParty.pyratemp.TemplateException" title="PyFoam.ThirdParty.pyratemp.TemplateException"><code class="xref py py-class docutils literal"><span class="pre">PyFoam.ThirdParty.pyratemp.TemplateException</span></code></a></p>
<p>Template parsing failed.</p>
</dd></dl>

<dl class="exception">
<dt id="PyFoam.ThirdParty.pyratemp.TemplateRenderError">
<em class="property">exception </em><code class="descclassname">PyFoam.ThirdParty.pyratemp.</code><code class="descname">TemplateRenderError</code><a class="reference internal" href="../_modules/PyFoam/ThirdParty/pyratemp.html#TemplateRenderError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#PyFoam.ThirdParty.pyratemp.TemplateRenderError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#PyFoam.ThirdParty.pyratemp.TemplateException" title="PyFoam.ThirdParty.pyratemp.TemplateException"><code class="xref py py-class docutils literal"><span class="pre">PyFoam.ThirdParty.pyratemp.TemplateException</span></code></a></p>
<p>Template rendering failed.</p>
</dd></dl>

<dl class="exception">
<dt id="PyFoam.ThirdParty.pyratemp.TemplateSyntaxError">
<em class="property">exception </em><code class="descclassname">PyFoam.ThirdParty.pyratemp.</code><code class="descname">TemplateSyntaxError</code><span class="sig-paren">(</span><em>err</em>, <em>errpos</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/PyFoam/ThirdParty/pyratemp.html#TemplateSyntaxError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#PyFoam.ThirdParty.pyratemp.TemplateSyntaxError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#PyFoam.ThirdParty.pyratemp.TemplateParseError" title="PyFoam.ThirdParty.pyratemp.TemplateParseError"><code class="xref py py-class docutils literal"><span class="pre">PyFoam.ThirdParty.pyratemp.TemplateParseError</span></code></a>, <code class="xref py py-class docutils literal"><span class="pre">SyntaxError</span></code></p>
<p>Template syntax-error.</p>
</dd></dl>

<dl class="function">
<dt id="PyFoam.ThirdParty.pyratemp.dictkeyclean">
<code class="descclassname">PyFoam.ThirdParty.pyratemp.</code><code class="descname">dictkeyclean</code><span class="sig-paren">(</span><em>d</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/PyFoam/ThirdParty/pyratemp.html#dictkeyclean"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#PyFoam.ThirdParty.pyratemp.dictkeyclean" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert all keys of the dict <cite>d</cite> to strings.</p>
</dd></dl>

<dl class="function">
<dt id="PyFoam.ThirdParty.pyratemp.dummy">
<code class="descclassname">PyFoam.ThirdParty.pyratemp.</code><code class="descname">dummy</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/PyFoam/ThirdParty/pyratemp.html#dummy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#PyFoam.ThirdParty.pyratemp.dummy" title="Permalink to this definition">¶</a></dt>
<dd><p>Dummy function, doing nothing.</p>
</dd></dl>

<dl class="function">
<dt id="PyFoam.ThirdParty.pyratemp.dummy_raise">
<code class="descclassname">PyFoam.ThirdParty.pyratemp.</code><code class="descname">dummy_raise</code><span class="sig-paren">(</span><em>exception</em>, <em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/PyFoam/ThirdParty/pyratemp.html#dummy_raise"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#PyFoam.ThirdParty.pyratemp.dummy_raise" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an exception-raising dummy function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">dummy function, raising <code class="docutils literal"><span class="pre">exception(value)</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="PyFoam.ThirdParty.pyratemp.escape">
<code class="descclassname">PyFoam.ThirdParty.pyratemp.</code><code class="descname">escape</code><span class="sig-paren">(</span><em>s</em>, <em>format=1</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/PyFoam/ThirdParty/pyratemp.html#escape"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#PyFoam.ThirdParty.pyratemp.escape" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace special characters by their escape sequence.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><cite>s</cite>:      string or unicode-string to escape</li>
<li><cite>format</cite>:<ul>
<li><cite>NONE</cite>:  nothing is replaced</li>
<li><cite>HTML</cite>:  replace &amp;&lt;&gt;’” by &amp;…;</li>
<li><cite>LATEX</cite>: replace #$%&amp;_{} (TODO! - this is very incomplete!)</li>
</ul>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the escaped string in unicode</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Exceptions:</th><td class="field-body"><ul class="first simple">
<li><cite>ValueError</cite>: if <cite>format</cite> is invalid.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">TODO:</th><td class="field-body"><p class="first last">complete LaTeX-escaping, optimize speed</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="PyFoam.ThirdParty.pyratemp.scol">
<code class="descclassname">PyFoam.ThirdParty.pyratemp.</code><code class="descname">scol</code><span class="sig-paren">(</span><em>string</em>, <em>i</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/PyFoam/ThirdParty/pyratemp.html#scol"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#PyFoam.ThirdParty.pyratemp.scol" title="Permalink to this definition">¶</a></dt>
<dd><p>Get column number of <code class="docutils literal"><span class="pre">string[i]</span></code> in <cite>string</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">column, starting at 1 (but may be &lt;1 if i&lt;0)</td>
</tr>
<tr class="field-even field"><th class="field-name">Note:</th><td class="field-body">This works for text-strings with <code class="docutils literal"><span class="pre">\n</span></code> or <code class="docutils literal"><span class="pre">\r\n</span></code>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="PyFoam.ThirdParty.pyratemp.sindex">
<code class="descclassname">PyFoam.ThirdParty.pyratemp.</code><code class="descname">sindex</code><span class="sig-paren">(</span><em>string</em>, <em>row</em>, <em>col</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/PyFoam/ThirdParty/pyratemp.html#sindex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#PyFoam.ThirdParty.pyratemp.sindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Get index of the character at <cite>row</cite>/<cite>col</cite> in <cite>string</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><cite>row</cite>: row number, starting at 1.</li>
<li><cite>col</cite>: column number, starting at 1.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><code class="docutils literal"><span class="pre">i</span></code>, starting at 0 (but may be &lt;1 if row/col&lt;0)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Note:</th><td class="field-body"><p class="first last">This works for text-strings with ‘n’ or ‘rn’.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="PyFoam.ThirdParty.pyratemp.srow">
<code class="descclassname">PyFoam.ThirdParty.pyratemp.</code><code class="descname">srow</code><span class="sig-paren">(</span><em>string</em>, <em>i</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/PyFoam/ThirdParty/pyratemp.html#srow"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#PyFoam.ThirdParty.pyratemp.srow" title="Permalink to this definition">¶</a></dt>
<dd><p>Get line numer of <code class="docutils literal"><span class="pre">string[i]</span></code> in <cite>string</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">row, starting at 1</td>
</tr>
<tr class="field-even field"><th class="field-name">Note:</th><td class="field-body">This works for text-strings with <code class="docutils literal"><span class="pre">\n</span></code> or <code class="docutils literal"><span class="pre">\r\n</span></code>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="PyFoam.ThirdParty.pyratemp.toUniCode">
<code class="descclassname">PyFoam.ThirdParty.pyratemp.</code><code class="descname">toUniCode</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/PyFoam/ThirdParty/pyratemp.html#toUniCode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#PyFoam.ThirdParty.pyratemp.toUniCode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="PyFoam.ThirdParty.six.html" class="btn btn-neutral float-right" title="PyFoam.ThirdParty.six module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="PyFoam.ThirdParty.IPy.html" class="btn btn-neutral" title="PyFoam.ThirdParty.IPy module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Bernhard F.W. Gschaider.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.6.11-development',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>