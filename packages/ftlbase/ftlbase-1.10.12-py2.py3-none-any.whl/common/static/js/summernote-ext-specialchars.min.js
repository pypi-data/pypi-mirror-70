!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(window.jQuery)}((function(e){e.extend(e.summernote.plugins,{specialchars:function(o){var t=this,n=e.summernote.ui,i=o.layoutInfo.editor,r=o.options,a=r.langInfo,l=38,d=40,u=37,s=39,c=13,f=0,p=0,m=0,h=0,g=["&quot;","&amp;","&lt;","&gt;","&iexcl;","&cent;","&pound;","&curren;","&yen;","&brvbar;","&sect;","&uml;","&copy;","&ordf;","&laquo;","&not;","&reg;","&macr;","&deg;","&plusmn;","&sup2;","&sup3;","&acute;","&micro;","&para;","&middot;","&cedil;","&sup1;","&ordm;","&raquo;","&frac14;","&frac12;","&frac34;","&iquest;","&times;","&divide;","&fnof;","&circ;","&tilde;","&ndash;","&mdash;","&lsquo;","&rsquo;","&sbquo;","&ldquo;","&rdquo;","&bdquo;","&dagger;","&Dagger;","&bull;","&hellip;","&permil;","&prime;","&Prime;","&lsaquo;","&rsaquo;","&oline;","&frasl;","&euro;","&image;","&weierp;","&real;","&trade;","&alefsym;","&larr;","&uarr;","&rarr;","&darr;","&harr;","&crarr;","&lArr;","&uArr;","&rArr;","&dArr;","&hArr;","&forall;","&part;","&exist;","&empty;","&nabla;","&isin;","&notin;","&ni;","&prod;","&sum;","&minus;","&lowast;","&radic;","&prop;","&infin;","&ang;","&and;","&or;","&cap;","&cup;","&int;","&there4;","&sim;","&cong;","&asymp;","&ne;","&equiv;","&le;","&ge;","&sub;","&sup;","&nsub;","&sube;","&supe;","&oplus;","&otimes;","&perp;","&sdot;","&lceil;","&rceil;","&lfloor;","&rfloor;","&loz;","&spades;","&clubs;","&hearts;","&diams;"];o.memo("button.specialchars",(function(){return n.button({contents:'<i class="fa fa-font fa-flip-vertical">',tooltip:a.specialChar.specialChar,click:function(){t.show()}}).render()})),this.makeSpecialCharSetTable=function(){var o=e("<table/>");return e.each(g,(function(t,i){var r=e("<td/>").addClass("note-specialchar-node"),a=t%15==0?e("<tr/>"):o.find("tr").last(),l=n.button({callback:function(e){e.html(i),e.attr("title",i),e.attr("data-value",encodeURIComponent(i)),e.css({width:35,"margin-right":"2px","margin-bottom":"2px"})}}).render();r.append(l),a.append(r),t%15==0&&o.append(a)})),h=o.find("tr").length,m=15,o},this.initialize=function(){var o=r.dialogsInBody?e(document.body):i,t='<div class="form-group row-fluid">'+this.makeSpecialCharSetTable()[0].outerHTML+"</div>";this.$dialog=n.dialog({title:a.specialChar.select,body:t}).render().appendTo(o)},this.show=function(){var t=o.invoke("editor.getSelectedText");o.invoke("editor.saveRange"),this.showSpecialCharDialog(t).then((function(t){o.invoke("editor.restoreRange");var n=e("<span></span>").html(t)[0];n&&o.invoke("editor.insertNode",n)})).fail((function(){o.invoke("editor.restoreRange")}))},this.showSpecialCharDialog=function(o){return e.Deferred((function(i){var r=t.$dialog,a=r.find(".note-specialchar-node"),g=null,v=[l,d,u,s],b=c;function y(e){e&&(e.find("button").addClass("active"),g=e)}function q(e){e.find("button").removeClass("active"),g=null}function k(o){var t,n,i,r,c=a.length%m;u===o?f>1?f-=1:1===p&&1===f?(f=c,p=h):(f=m,p-=1):s===o?p===h&&c===f?(f=1,p=1):f<m?f+=1:(f=1,p+=1):l===o?1===p&&c<f?p=h-1:p-=1:d===o&&(p+=1),p===h&&f>c?p=1:p>h?p=1:p<1&&(p=h),n=p,i=f,r=null,e.each(a,(function(e,o){if(Math.ceil((e+1)/15)===n&&((e+1)%15==0?15:(e+1)%15)===i)return r=o,!1})),(t=e(r))&&(q(g),y(t))}function w(e){e.preventDefault();var o=e.keyCode;if(null!=o){if(v.indexOf(o)>-1){if(null===g)return y(a.eq(0)),f=1,void(p=1);k(o)}else o===b&&g&&(i.resolve(decodeURIComponent(g.find("button").attr("data-value"))),r.modal("hide"));return!1}}if(q(a),o)for(var C=0;C<a.length;C++){var x=e(a[C]);x.text()===o&&(y(x),p=Math.ceil((C+1)/15),f=(C+1)%15)}n.onDialogShown(t.$dialog,(function(){e(document).on("keydown",w),t.$dialog.find("button").tooltip(),a.on("click",(function(o){o.preventDefault(),i.resolve(decodeURIComponent(e(o.currentTarget).find("button").attr("data-value"))),n.hideDialog(t.$dialog)}))})),n.onDialogHidden(t.$dialog,(function(){a.off("click"),t.$dialog.find("button").tooltip("destroy"),e(document).off("keydown",w),"pending"===i.state()&&i.reject()})),n.showDialog(t.$dialog)}))}}})}));