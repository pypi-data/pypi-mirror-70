Metadata-Version: 2.1
Name: urlock
Version: 0.1.13
Summary: Library for talking to a running Urbit ship
Home-page: http://github.com/baudtack/urlock-py
Author: David Kerschner
Author-email: dkerschner@gmail.com
License: MIT
Keywords: urbit urlock
Platform: UNKNOWN
Description-Content-Type: text/markdown
Requires-Dist: requests
Requires-Dist: sseclient-py



```
from urlock import urlock.Urlock
import baseconvert
import time
import random
import dumper

zod = Urlock("http://localhost:8080", "lidlut-tabwed-pillex-ridrup")
r = zod.connect()
s = zod.subscribe("zod", "chat-store", "/mailbox/~/~zod/mc")

pipe = zod.sse_pipe()

s = baseconvert.base(random.getrandbits(128), 10, 32, string=True).lower()
uid = '0v' + '.'.join(s[i:i+5] for i in range(0, len(s), 5))[::-1]

p = zod.poke("zod", "chat-hook", "json", {"message": {"path": "/~/~zod/mc",
    "envelope": {"uid": uid,
                                                                    "number": 1,
                                                                    "author": "~zod",
                                                                    "when": int(time.time() * 1000),
                                                                    "letter": {"text": "this shit is new"}}}})


for m in pipe.events():
   dumper.dump(m)
```

