# AUTOGENERATED! DO NOT EDIT! File to edit: nbs/10_html2pdf.ipynb (unless otherwise specified).

__all__ = ['__all__', 'html2pdf']

# Cell
#export
from pathlib import Path
import re
import subprocess

# Cell
__all__=['html2pdf']

# Cell
def html2pdf(wkhtmltopdf_dir):
    "convert html pages in docs to pdf and save in pdfs folder"
    src=Path("../nbs")
    raw_names=(x.name for x in src.iterdir() if x.is_file())
    staging_names=(x.split("_")[1] for x in raw_names if len(x.split("_"))==2)
    p=re.compile(r".ipynb")
    final_names=(p.sub("", name) for name in staging_names)
    res=[subprocess.check_output(f"\"{wkhtmltopdf_dir}/wkhtmltopdf.exe\" --dpi 1000 http://127.0.0.1:4000/ysyai2/{x}/ ../pdfs/{x}.pdf", shell=True) for x in final_names]
    return res